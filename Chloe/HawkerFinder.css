* { box-sizing: border-box; margin: 0; padding: 0; font-family: sans-serif; }

.app-screen {
    display: flex;
    flex-direction: column;
    height: 100vh; /* Takes full phone screen height */
}

/* Header */
.top-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    background-color: #fff;
    border-bottom: 1px solid #eee;
}

.top-nav h1 { font-size: 1.2rem; color: #333; }
.back-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
.spacer { width: 30px; }

/* Filters */
.controls { padding: 15px; background: #fff; }
.search-container { display: flex; margin-bottom: 10px; }
.search-container input { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px 0 0 5px; }
.search-container button { padding: 10px; background: #007AFF; color: white; border: none; border-radius: 0 5px 5px 0; }

.filter-row { display: flex; gap: 10px; }
.filter-row select { flex: 1; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }

/* Map */
#map-container { position: relative; flex: 1; }
#map { height: 100%; width: 100%; z-index: 1; }

/* Legend & Button Overlay */
.legend {
    position: absolute; top: 10px; right: 10px;
    background: white; padding: 10px; border-radius: 8px;
    z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    font-size: 0.8rem;
}
.dot { height: 10px; width: 10px; border-radius: 50%; display: inline-block; margin-right: 5px; }
.a { background: #2ecc71; } .b { background: #3498db; } .c { background: #f1c40f; }

.view-toggle {
    position: absolute; bottom: 20px; left: 50%;
    transform: translateX(-50%); z-index: 1000;
    padding: 12px 25px; background: #333; color: #fff;
    border: none; border-radius: 25px; cursor: pointer;
}